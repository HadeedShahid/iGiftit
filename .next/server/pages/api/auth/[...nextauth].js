"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "pages/api/auth/[...nextauth]";
exports.ids = ["pages/api/auth/[...nextauth]"];
exports.modules = {

/***/ "@prisma/client":
/*!*********************************!*\
  !*** external "@prisma/client" ***!
  \*********************************/
/***/ ((module) => {

module.exports = require("@prisma/client");

/***/ }),

/***/ "bcryptjs":
/*!***************************!*\
  !*** external "bcryptjs" ***!
  \***************************/
/***/ ((module) => {

module.exports = require("bcryptjs");

/***/ }),

/***/ "next-auth":
/*!****************************!*\
  !*** external "next-auth" ***!
  \****************************/
/***/ ((module) => {

module.exports = require("next-auth");

/***/ }),

/***/ "next-auth/providers/credentials":
/*!**************************************************!*\
  !*** external "next-auth/providers/credentials" ***!
  \**************************************************/
/***/ ((module) => {

module.exports = require("next-auth/providers/credentials");

/***/ }),

/***/ "next-auth/providers/google":
/*!*********************************************!*\
  !*** external "next-auth/providers/google" ***!
  \*********************************************/
/***/ ((module) => {

module.exports = require("next-auth/providers/google");

/***/ }),

/***/ "(api)/./lib/prisma/index.js":
/*!*****************************!*\
  !*** ./lib/prisma/index.js ***!
  \*****************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _prisma_client__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @prisma/client */ \"@prisma/client\");\n/* harmony import */ var _prisma_client__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_prisma_client__WEBPACK_IMPORTED_MODULE_0__);\n\nconst prisma = new _prisma_client__WEBPACK_IMPORTED_MODULE_0__.PrismaClient();\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (prisma);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9saWIvcHJpc21hL2luZGV4LmpzLmpzIiwibWFwcGluZ3MiOiI7Ozs7OztBQUE4QztBQUU5QyxNQUFNQyxTQUFTLElBQUlELHdEQUFZQTtBQUUvQixpRUFBZUMsTUFBTUEsRUFBQyIsInNvdXJjZXMiOlsid2VicGFjazovL2lnaWZ0aXQvLi9saWIvcHJpc21hL2luZGV4LmpzPzM5Y2UiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgUHJpc21hQ2xpZW50IH0gZnJvbSBcIkBwcmlzbWEvY2xpZW50XCI7XHJcblxyXG5jb25zdCBwcmlzbWEgPSBuZXcgUHJpc21hQ2xpZW50KClcclxuXHJcbmV4cG9ydCBkZWZhdWx0IHByaXNtYTsiXSwibmFtZXMiOlsiUHJpc21hQ2xpZW50IiwicHJpc21hIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(api)/./lib/prisma/index.js\n");

/***/ }),

/***/ "(api)/./lib/prisma/users.js":
/*!*****************************!*\
  !*** ./lib/prisma/users.js ***!
  \*****************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"AddCartItem\": () => (/* binding */ AddCartItem),\n/* harmony export */   \"addAddress\": () => (/* binding */ addAddress),\n/* harmony export */   \"createUser\": () => (/* binding */ createUser),\n/* harmony export */   \"getCartItems\": () => (/* binding */ getCartItems),\n/* harmony export */   \"getSavedAddresses\": () => (/* binding */ getSavedAddresses),\n/* harmony export */   \"getUserIdbyemail\": () => (/* binding */ getUserIdbyemail),\n/* harmony export */   \"getUserbyemail\": () => (/* binding */ getUserbyemail),\n/* harmony export */   \"setCartItems\": () => (/* binding */ setCartItems)\n/* harmony export */ });\n/* harmony import */ var ___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! . */ \"(api)/./lib/prisma/index.js\");\n\nasync function createUser(user) {\n    try {\n        // console.log(\"in create user,\",user)\n        // const userFromDb = await prisma.user.create({data:user});\n        const temp = {\n            ...user,\n            cart: {\n                create: {\n                    items: \"[]\"\n                }\n            }\n        };\n        console.log(\"temp=-=-=-=-=-=-=,\", temp);\n        const userFromDb = await ___WEBPACK_IMPORTED_MODULE_0__[\"default\"].user.create({\n            data: temp\n        });\n        return {\n            user: userFromDb\n        };\n    } catch (error) {\n        console.log(error);\n        console.log(\"*****Error in create user prisma/user.js*****\");\n    }\n}\nasync function getUserbyemail(email) {\n    try {\n        console.log(\"in prisma\", email);\n        const user = await ___WEBPACK_IMPORTED_MODULE_0__[\"default\"].user.findFirst({\n            where: {\n                email: email\n            }\n        });\n        console.log(\"log\", {\n            user\n        });\n        return {\n            user\n        };\n    } catch (error) {\n        console.log(\"*****Error in get user by email prisma/user.js*****\");\n        console.log(error);\n    }\n}\nasync function getUserIdbyemail(email) {\n    try {\n        const user = (await ___WEBPACK_IMPORTED_MODULE_0__[\"default\"].user.findFirst({\n            where: {\n                email: email\n            }\n        })).id;\n        return user;\n    } catch (error) {\n        console.log(\"*****Error in get user by email prisma/user.js*****\");\n        console.log(error);\n    }\n}\nasync function getSavedAddresses(email) {\n    try {\n        return JSON.parse((await getUserbyemail(email)).user.addresses);\n    } catch (error) {\n        console.log(\"*****Error in get user by email prisma/user.js*****\");\n        console.log(error);\n    }\n}\nasync function addAddress(email, newAddresses1) {\n    console.log(\"email\", email);\n    try {\n        const updateUser = await ___WEBPACK_IMPORTED_MODULE_0__[\"default\"].user.update({\n            where: {\n                email: email\n            },\n            data: {\n                addresses: await JSON.stringify(newAddresses1)\n            }\n        });\n        return updateUser;\n    } catch (error) {\n        console.log(\"*****Error in get user by email prisma/user.js*****\");\n        console.log(error);\n    }\n}\nasync function AddCartItem(email, cartItem) {\n    console.log(\"cart\", cartItem);\n    try {\n        const updateUser = await ___WEBPACK_IMPORTED_MODULE_0__[\"default\"].user.update({\n            where: {\n                email: email\n            },\n            data: {\n                items: await JSON.stringify(newAddresses)\n            }\n        });\n        return updateUser;\n    } catch (error) {\n        console.log(\"*****Error in AddCartItem prisma/user.js*****\");\n        console.log(error);\n    }\n}\nasync function getCartItems(email) {\n    try {\n        const user = await ___WEBPACK_IMPORTED_MODULE_0__[\"default\"].user.findFirst({\n            where: {\n                email: email\n            },\n            include: {\n                cart: {\n                    select: {\n                        items: true\n                    }\n                }\n            }\n        });\n        const temp = await JSON.parse({\n            ...user,\n            items: user.cart.items\n        }.items);\n        return temp;\n    } catch (error) {\n        console.log(\"*****Error in get user by email prisma/user.js*****\");\n        console.log(error);\n    }\n}\nasync function setCartItems(email, cartItems) {\n    const items = await JSON.stringify(cartItems);\n    console.log(\"inf unrcion\");\n    console.log(typeof items);\n    console.log(items);\n    try {\n        const user = await ___WEBPACK_IMPORTED_MODULE_0__[\"default\"].user.update({\n            where: {\n                email: email\n            },\n            data: {\n                cart: {\n                    update: {\n                        items: items\n                    }\n                }\n            }\n        });\n        return {\n            items: await JSON.parse(items)\n        };\n    } catch (error) {\n        console.log(\"*****Error in setting catr items by email prisma/user.js*****\");\n        console.log(error);\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUFDRixPQUFNQTtZQUFLO1lBQ2xCaUIsU0FBUztnQkFBQzFCLE1BQU07b0JBQUMyQixRQUFRO3dCQUFDekIsT0FBTyxJQUFJO29CQUFBO2dCQUFDO1lBQUU7UUFDNUM7UUFFSixNQUFNSCxPQUFPLE1BQU1nQixLQUFLQyxLQUFLLENBQUM7WUFBQyxHQUFHbEIsSUFBSTtZQUFDSSxPQUFNSixLQUFLRSxJQUFJLENBQUNFLEtBQUs7UUFBQSxFQUFFQSxLQUFLO1FBQ25FLE9BQU9IO0lBQ1gsRUFBRSxPQUFPUSxPQUFPO1FBQ1pKLFFBQVFDLEdBQUcsQ0FBQztRQUNaRCxRQUFRQyxHQUFHLENBQUNHO0lBQ2hCO0FBQ0osQ0FBQztBQUNNLGVBQWVxQixhQUFhbkIsS0FBSyxFQUFDb0IsU0FBUyxFQUFDO0lBQy9DLE1BQU0zQixRQUFRLE1BQU1hLEtBQUtPLFNBQVMsQ0FBQ087SUFDbkMxQixRQUFRQyxHQUFHLENBQUM7SUFDWkQsUUFBUUMsR0FBRyxDQUFDLE9BQU9GO0lBQ25CQyxRQUFRQyxHQUFHLENBQUVGO0lBQ2IsSUFBSTtRQUNBLE1BQU1KLE9BQVEsTUFBTUYscURBQWtCLENBQ2xDO1lBQ0llLE9BQU07Z0JBQUNGLE9BQU1BO1lBQUs7WUFDbEJILE1BQU07Z0JBQUNOLE1BQU07b0JBQUNxQixRQUFRO3dCQUFDbkIsT0FBT0E7b0JBQUs7Z0JBQUM7WUFBRTtRQUMxQztRQUdKLE9BQU87WUFBQ0EsT0FBTSxNQUFNYSxLQUFLQyxLQUFLLENBQUNkO1FBQU07SUFDekMsRUFBRSxPQUFPSyxPQUFPO1FBQ1pKLFFBQVFDLEdBQUcsQ0FBQztRQUNaRCxRQUFRQyxHQUFHLENBQUNHO0lBQ2hCO0FBQ0osQ0FBQyIsInNvdXJjZXMiOlsid2VicGFjazovL2lnaWZ0aXQvLi9saWIvcHJpc21hL3VzZXJzLmpzPzU2ZjAiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHByaXNtYSBmcm9tIFwiLlwiO1xyXG5cclxuXHJcblxyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gY3JlYXRlVXNlcih1c2VyKXtcclxuICAgIHRyeSB7XHJcbiAgICAgICAgLy8gY29uc29sZS5sb2coXCJpbiBjcmVhdGUgdXNlcixcIix1c2VyKVxyXG4gICAgICAgIC8vIGNvbnN0IHVzZXJGcm9tRGIgPSBhd2FpdCBwcmlzbWEudXNlci5jcmVhdGUoe2RhdGE6dXNlcn0pO1xyXG4gICAgICAgIGNvbnN0IHRlbXAgPSB7Li4udXNlcixjYXJ0OiB7XHJcbiAgICAgICAgICAgIGNyZWF0ZTp7XHJcbiAgICAgICAgICAgICAgICBpdGVtczogXCJbXVwiXHJcbiAgICAgICAgICAgIH0sIC8vIFBvcHVsYXRlcyBhdXRob3JJZCB3aXRoIHVzZXIncyBpZFxyXG4gICAgICAgIH19XHJcbiAgICAgICAgY29uc29sZS5sb2coXCJ0ZW1wPS09LT0tPS09LT0tPSxcIix0ZW1wKTtcclxuICAgICAgICBjb25zdCB1c2VyRnJvbURiID0gYXdhaXQgcHJpc21hLnVzZXIuY3JlYXRlKHtcclxuICAgICAgICAgICAgZGF0YTp0ZW1wXHJcbiAgICAgICAgICB9KVxyXG4gICAgICAgIHJldHVybiB7dXNlcjp1c2VyRnJvbURifVxyXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICBjb25zb2xlLmxvZyhlcnJvcilcclxuICAgICAgICBjb25zb2xlLmxvZyhcIioqKioqRXJyb3IgaW4gY3JlYXRlIHVzZXIgcHJpc21hL3VzZXIuanMqKioqKlwiKVxyXG4gICAgfVxyXG59XHJcblxyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZ2V0VXNlcmJ5ZW1haWwoZW1haWwpe1xyXG4gICAgdHJ5IHtcclxuICAgICAgICBjb25zb2xlLmxvZyhcImluIHByaXNtYVwiLGVtYWlsKVxyXG4gICAgICAgIGNvbnN0IHVzZXIgPSBhd2FpdCBwcmlzbWEudXNlci5maW5kRmlyc3Qoe3doZXJlOntlbWFpbDplbWFpbH19KVxyXG4gICAgICAgIGNvbnNvbGUubG9nKCdsb2cnLHt1c2VyfSlcclxuICAgICAgICByZXR1cm4ge3VzZXJ9XHJcbiAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKFwiKioqKipFcnJvciBpbiBnZXQgdXNlciBieSBlbWFpbCBwcmlzbWEvdXNlci5qcyoqKioqXCIpXHJcbiAgICAgICAgY29uc29sZS5sb2coZXJyb3IpXHJcbiAgICB9XHJcbn1cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGdldFVzZXJJZGJ5ZW1haWwoZW1haWwpe1xyXG4gICAgdHJ5IHtcclxuICAgICAgICBjb25zdCB1c2VyID0gKGF3YWl0IHByaXNtYS51c2VyLmZpbmRGaXJzdCh7d2hlcmU6e2VtYWlsOmVtYWlsfX0pKS5pZFxyXG4gICAgICAgIHJldHVybiB1c2VyO1xyXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICBjb25zb2xlLmxvZyhcIioqKioqRXJyb3IgaW4gZ2V0IHVzZXIgYnkgZW1haWwgcHJpc21hL3VzZXIuanMqKioqKlwiKVxyXG4gICAgICAgIGNvbnNvbGUubG9nKGVycm9yKVxyXG4gICAgfVxyXG59XHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBnZXRTYXZlZEFkZHJlc3NlcyhlbWFpbCl7XHJcbiAgICB0cnkge1xyXG4gICAgICAgIHJldHVybiBKU09OLnBhcnNlKChhd2FpdCBnZXRVc2VyYnllbWFpbChlbWFpbCkpLnVzZXIuYWRkcmVzc2VzKTtcclxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgY29uc29sZS5sb2coXCIqKioqKkVycm9yIGluIGdldCB1c2VyIGJ5IGVtYWlsIHByaXNtYS91c2VyLmpzKioqKipcIilcclxuICAgICAgICBjb25zb2xlLmxvZyhlcnJvcilcclxuICAgIH1cclxufVxyXG5cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGFkZEFkZHJlc3MoZW1haWwsbmV3QWRkcmVzc2VzKXtcclxuICAgIGNvbnNvbGUubG9nKFwiZW1haWxcIixlbWFpbClcclxuICAgIHRyeSB7XHJcbiAgICAgICAgY29uc3QgdXBkYXRlVXNlciA9IGF3YWl0IHByaXNtYS51c2VyLnVwZGF0ZSh7XHJcbiAgICAgICAgICAgIHdoZXJlOiB7XHJcbiAgICAgICAgICAgICAgICBlbWFpbDplbWFpbCxcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgZGF0YToge1xyXG4gICAgICAgICAgICAgIGFkZHJlc3NlczogYXdhaXQgSlNPTi5zdHJpbmdpZnkobmV3QWRkcmVzc2VzKSxcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICB9KVxyXG4gICAgICAgIHJldHVybiB1cGRhdGVVc2VyO1xyXG5cclxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgY29uc29sZS5sb2coXCIqKioqKkVycm9yIGluIGdldCB1c2VyIGJ5IGVtYWlsIHByaXNtYS91c2VyLmpzKioqKipcIilcclxuICAgICAgICBjb25zb2xlLmxvZyhlcnJvcilcclxuICAgIH1cclxufVxyXG5cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIEFkZENhcnRJdGVtKGVtYWlsLGNhcnRJdGVtKXtcclxuICAgIGNvbnNvbGUubG9nKFwiY2FydFwiLGNhcnRJdGVtKVxyXG4gICAgdHJ5IHtcclxuICAgICAgICBjb25zdCB1cGRhdGVVc2VyID0gYXdhaXQgcHJpc21hLnVzZXIudXBkYXRlKHtcclxuICAgICAgICAgICAgd2hlcmU6IHtcclxuICAgICAgICAgICAgICAgIGVtYWlsOmVtYWlsLFxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBkYXRhOiB7XHJcbiAgICAgICAgICAgICAgaXRlbXM6IGF3YWl0IEpTT04uc3RyaW5naWZ5KG5ld0FkZHJlc3NlcyksXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgfSlcclxuICAgICAgICByZXR1cm4gdXBkYXRlVXNlcjtcclxuXHJcbiAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKFwiKioqKipFcnJvciBpbiBBZGRDYXJ0SXRlbSBwcmlzbWEvdXNlci5qcyoqKioqXCIpXHJcbiAgICAgICAgY29uc29sZS5sb2coZXJyb3IpXHJcbiAgICB9XHJcbn1cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGdldENhcnRJdGVtcyhlbWFpbCl7XHJcbiAgICB0cnkge1xyXG4gICAgICAgIGNvbnN0IHVzZXIgPSAoYXdhaXQgcHJpc21hLnVzZXIuZmluZEZpcnN0KFxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICB3aGVyZTp7ZW1haWw6ZW1haWx9LFxyXG4gICAgICAgICAgICAgICAgaW5jbHVkZToge2NhcnQ6IHtzZWxlY3Q6IHtpdGVtczogdHJ1ZX19LH0sXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICApKVxyXG4gICAgICAgIGNvbnN0IHRlbXAgPSBhd2FpdCBKU09OLnBhcnNlKHsuLi51c2VyLGl0ZW1zOnVzZXIuY2FydC5pdGVtc30uaXRlbXMpXHJcbiAgICAgICAgcmV0dXJuIHRlbXA7XHJcbiAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKFwiKioqKipFcnJvciBpbiBnZXQgdXNlciBieSBlbWFpbCBwcmlzbWEvdXNlci5qcyoqKioqXCIpXHJcbiAgICAgICAgY29uc29sZS5sb2coZXJyb3IpXHJcbiAgICB9XHJcbn1cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHNldENhcnRJdGVtcyhlbWFpbCxjYXJ0SXRlbXMpe1xyXG4gICAgY29uc3QgaXRlbXMgPSBhd2FpdCBKU09OLnN0cmluZ2lmeShjYXJ0SXRlbXMpXHJcbiAgICBjb25zb2xlLmxvZyhcImluZiB1bnJjaW9uXCIpXHJcbiAgICBjb25zb2xlLmxvZyh0eXBlb2YgaXRlbXMpXHJcbiAgICBjb25zb2xlLmxvZyggaXRlbXMpXHJcbiAgICB0cnkge1xyXG4gICAgICAgIGNvbnN0IHVzZXIgPSAoYXdhaXQgcHJpc21hLnVzZXIudXBkYXRlKFxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICB3aGVyZTp7ZW1haWw6ZW1haWx9LFxyXG4gICAgICAgICAgICAgICAgZGF0YToge2NhcnQ6IHt1cGRhdGU6IHtpdGVtczogaXRlbXN9fSx9LFxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgKSlcclxuXHJcbiAgICAgICAgcmV0dXJuIHtpdGVtczphd2FpdCBKU09OLnBhcnNlKGl0ZW1zKX07XHJcbiAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKFwiKioqKipFcnJvciBpbiBzZXR0aW5nIGNhdHIgaXRlbXMgYnkgZW1haWwgcHJpc21hL3VzZXIuanMqKioqKlwiKVxyXG4gICAgICAgIGNvbnNvbGUubG9nKGVycm9yKVxyXG4gICAgfVxyXG59Il0sIm5hbWVzIjpbInByaXNtYSIsImNyZWF0ZVVzZXIiLCJ1c2VyIiwidGVtcCIsImNhcnQiLCJjcmVhdGUiLCJpdGVtcyIsImNvbnNvbGUiLCJsb2ciLCJ1c2VyRnJvbURiIiwiZGF0YSIsImVycm9yIiwiZ2V0VXNlcmJ5ZW1haWwiLCJlbWFpbCIsImZpbmRGaXJzdCIsIndoZXJlIiwiZ2V0VXNlcklkYnllbWFpbCIsImlkIiwiZ2V0U2F2ZWRBZGRyZXNzZXMiLCJKU09OIiwicGFyc2UiLCJhZGRyZXNzZXMiLCJhZGRBZGRyZXNzIiwibmV3QWRkcmVzc2VzIiwidXBkYXRlVXNlciIsInVwZGF0ZSIsInN0cmluZ2lmeSIsIkFkZENhcnRJdGVtIiwiY2FydEl0ZW0iLCJnZXRDYXJ0SXRlbXMiLCJpbmNsdWRlIiwic2VsZWN0Iiwic2V0Q2FydEl0ZW1zIiwiY2FydEl0ZW1zIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(api)/./lib/prisma/users.js\n");

/***/ }),

/***/ "(api)/./src/pages/api/auth/[...nextauth].js":
/*!*********************************************!*\
  !*** ./src/pages/api/auth/[...nextauth].js ***!
  \*********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var next_auth__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next-auth */ \"next-auth\");\n/* harmony import */ var next_auth__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_auth__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_auth_providers_google__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next-auth/providers/google */ \"next-auth/providers/google\");\n/* harmony import */ var next_auth_providers_google__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(next_auth_providers_google__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var next_auth_providers_credentials__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next-auth/providers/credentials */ \"next-auth/providers/credentials\");\n/* harmony import */ var next_auth_providers_credentials__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_auth_providers_credentials__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var bcryptjs__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! bcryptjs */ \"bcryptjs\");\n/* harmony import */ var bcryptjs__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(bcryptjs__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var lib_prisma_users__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! lib/prisma/users */ \"(api)/./lib/prisma/users.js\");\n\n\n\n\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (next_auth__WEBPACK_IMPORTED_MODULE_0___default()({\n    providers: [\n        // OAuth authentication providers...\n        next_auth_providers_google__WEBPACK_IMPORTED_MODULE_1___default()({\n            clientId: process.env.GOOGLE_ID,\n            clientSecret: process.env.GOOGLE_SECRET\n        }),\n        next_auth_providers_credentials__WEBPACK_IMPORTED_MODULE_2___default()({\n            name: \"Credentials\",\n            async authorize (credentials, req) {\n                // console.log(\"in authorize\");\n                // console.log(credentials);\n                const result = (await (0,lib_prisma_users__WEBPACK_IMPORTED_MODULE_4__.getUserbyemail)(credentials.email)).user;\n                // console.log(\"In creds\",result);\n                if (!result) {\n                    throw new Error(\"No User Found!\");\n                }\n                const checkPassword = await (0,bcryptjs__WEBPACK_IMPORTED_MODULE_3__.compare)(credentials.password, result.password);\n                // console.log(\"Cjeck pass\")\n                // console.log(\"result,\",result);\n                if (!checkPassword || result.email !== credentials.email) {\n                    // console.log(type(result.email))\n                    // console.log(type(credentials.email))\n                    throw new Error(\"Username Password donot match\");\n                }\n                // console.log(\"result,\",result);\n                return result;\n            }\n        })\n    ],\n    callbacks: {\n        async signIn (type) {\n            // console.log(\"Signin callback! \",type);\n            if (type.account.provider === \"google\") {\n                const result = (await (0,lib_prisma_users__WEBPACK_IMPORTED_MODULE_4__.getUserbyemail)(type.profile.email)).user;\n                if (!result) {\n                    const { user , error  } = await (0,lib_prisma_users__WEBPACK_IMPORTED_MODULE_4__.createUser)({\n                        username: type.profile.name,\n                        email: type.profile.email,\n                        password: \"\",\n                        addresses: await JSON.stringify([])\n                    });\n                    if (error) {\n                        console.log(\"in error\");\n                        throw new Error(error);\n                    }\n                    console.log(\"user created: \", user);\n                    return true;\n                }\n                console.log(\"false\");\n                return true;\n            }\n            console.log(\"outer\");\n            return true;\n        }\n    },\n    secret: \"GxhikyXCe+AzHlwhlrzy+M6lEPP5pqZuu+SqAVBY8ng=\"\n}));\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9zcmMvcGFnZXMvYXBpL2F1dGgvWy4uLm5leHRhdXRoXS5qcy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7O0FBQWdDO0FBQ3VCO0FBQ1U7QUFDL0I7QUFDMkI7QUFDN0QsaUVBQWVBLGdEQUFRQSxDQUFDO0lBQ3RCTSxXQUFXO1FBQ1Qsb0NBQW9DO1FBQ3BDTCxpRUFBY0EsQ0FBQztZQUNiTSxVQUFVQyxRQUFRQyxHQUFHLENBQUNDLFNBQVM7WUFDL0JDLGNBQWNILFFBQVFDLEdBQUcsQ0FBQ0csYUFBYTtRQUN6QztRQUNBVixzRUFBbUJBLENBQUM7WUFDbEJXLE1BQUs7WUFDTCxNQUFNQyxXQUFVQyxXQUFXLEVBQUNDLEdBQUcsRUFBQztnQkFDOUIsK0JBQStCO2dCQUMvQiw0QkFBNEI7Z0JBQzVCLE1BQU1DLFNBQVMsQ0FBQyxNQUFNYixnRUFBY0EsQ0FBQ1csWUFBWUcsS0FBSyxHQUFHQyxJQUFJO2dCQUM3RCxrQ0FBa0M7Z0JBQ2xDLElBQUksQ0FBQ0YsUUFBTztvQkFDUixNQUFNLElBQUlHLE1BQU0sa0JBQWtCO2dCQUN0QyxDQUFDO2dCQUNELE1BQU1DLGdCQUFnQixNQUFNbEIsaURBQU9BLENBQUNZLFlBQVlPLFFBQVEsRUFBQ0wsT0FBT0ssUUFBUTtnQkFDeEUsNEJBQTRCO2dCQUM1QixpQ0FBaUM7Z0JBQ2pDLElBQUksQ0FBQ0QsaUJBQWlCSixPQUFPQyxLQUFLLEtBQUtILFlBQVlHLEtBQUssRUFBQztvQkFDckQsa0NBQWtDO29CQUNsQyx1Q0FBdUM7b0JBQ3ZDLE1BQU0sSUFBSUUsTUFBTSxpQ0FBZ0M7Z0JBRXBELENBQUM7Z0JBQ0QsaUNBQWlDO2dCQUNqQyxPQUFPSDtZQUNUO1FBQ0Y7S0FDRDtJQUNETSxXQUFVO1FBQ1IsTUFBTUMsUUFBT0MsSUFBSSxFQUFFO1lBQ2pCLHlDQUF5QztZQUN6QyxJQUFJQSxLQUFLQyxPQUFPLENBQUNDLFFBQVEsS0FBSyxVQUFTO2dCQUNyQyxNQUFNVixTQUFTLENBQUMsTUFBTWIsZ0VBQWNBLENBQUNxQixLQUFLRyxPQUFPLENBQUNWLEtBQUssR0FBR0MsSUFBSTtnQkFDOUQsSUFBSSxDQUFDRixRQUFPO29CQUNWLE1BQU0sRUFBQ0UsS0FBSSxFQUFFVSxNQUFLLEVBQUMsR0FBRyxNQUFNeEIsNERBQVVBLENBQUM7d0JBQUN5QixVQUFTTCxLQUFLRyxPQUFPLENBQUNmLElBQUk7d0JBQUNLLE9BQU1PLEtBQUtHLE9BQU8sQ0FBQ1YsS0FBSzt3QkFBQ0ksVUFBUzt3QkFBR1MsV0FBVSxNQUFNQyxLQUFLQyxTQUFTLENBQUMsRUFBRTtvQkFBQztvQkFDMUksSUFBSUosT0FBTTt3QkFDTkssUUFBUUMsR0FBRyxDQUFDO3dCQUNaLE1BQU0sSUFBSWYsTUFBTVMsT0FBTztvQkFDM0IsQ0FBQztvQkFDREssUUFBUUMsR0FBRyxDQUFDLGtCQUFpQmhCO29CQUM3QixPQUFPLElBQUk7Z0JBQ2IsQ0FBQztnQkFDRGUsUUFBUUMsR0FBRyxDQUFDO2dCQUNaLE9BQU8sSUFBSTtZQUNiLENBQUM7WUFDREQsUUFBUUMsR0FBRyxDQUFDO1lBQ1osT0FBTyxJQUFJO1FBQ2I7SUFDRjtJQUNBQyxRQUFPO0FBQ1QsRUFBRSIsInNvdXJjZXMiOlsid2VicGFjazovL2lnaWZ0aXQvLi9zcmMvcGFnZXMvYXBpL2F1dGgvWy4uLm5leHRhdXRoXS5qcz83OGFiIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBOZXh0QXV0aCBmcm9tICduZXh0LWF1dGgnXHJcbmltcG9ydCBHb29nbGVQcm92aWRlciBmcm9tICduZXh0LWF1dGgvcHJvdmlkZXJzL2dvb2dsZSdcclxuaW1wb3J0IENyZWRlbnRpYWxzUHJvdmlkZXIgZnJvbSAnbmV4dC1hdXRoL3Byb3ZpZGVycy9jcmVkZW50aWFscydcclxuaW1wb3J0IHsgY29tcGFyZSB9IGZyb20gJ2JjcnlwdGpzJ1xyXG5pbXBvcnQgeyBnZXRVc2VyYnllbWFpbCxjcmVhdGVVc2VyIH0gZnJvbSBcImxpYi9wcmlzbWEvdXNlcnNcIjtcclxuZXhwb3J0IGRlZmF1bHQgTmV4dEF1dGgoe1xyXG4gIHByb3ZpZGVyczogW1xyXG4gICAgLy8gT0F1dGggYXV0aGVudGljYXRpb24gcHJvdmlkZXJzLi4uXHJcbiAgICBHb29nbGVQcm92aWRlcih7XHJcbiAgICAgIGNsaWVudElkOiBwcm9jZXNzLmVudi5HT09HTEVfSUQsXHJcbiAgICAgIGNsaWVudFNlY3JldDogcHJvY2Vzcy5lbnYuR09PR0xFX1NFQ1JFVFxyXG4gICAgfSksXHJcbiAgICBDcmVkZW50aWFsc1Byb3ZpZGVyKHtcclxuICAgICAgbmFtZTpcIkNyZWRlbnRpYWxzXCIsXHJcbiAgICAgIGFzeW5jIGF1dGhvcml6ZShjcmVkZW50aWFscyxyZXEpe1xyXG4gICAgICAgIC8vIGNvbnNvbGUubG9nKFwiaW4gYXV0aG9yaXplXCIpO1xyXG4gICAgICAgIC8vIGNvbnNvbGUubG9nKGNyZWRlbnRpYWxzKTtcclxuICAgICAgICBjb25zdCByZXN1bHQgPSAoYXdhaXQgZ2V0VXNlcmJ5ZW1haWwoY3JlZGVudGlhbHMuZW1haWwpKS51c2VyXHJcbiAgICAgICAgLy8gY29uc29sZS5sb2coXCJJbiBjcmVkc1wiLHJlc3VsdCk7XHJcbiAgICAgICAgaWYgKCFyZXN1bHQpe1xyXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJObyBVc2VyIEZvdW5kIVwiKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgY29uc3QgY2hlY2tQYXNzd29yZCA9IGF3YWl0IGNvbXBhcmUoY3JlZGVudGlhbHMucGFzc3dvcmQscmVzdWx0LnBhc3N3b3JkKVxyXG4gICAgICAgIC8vIGNvbnNvbGUubG9nKFwiQ2plY2sgcGFzc1wiKVxyXG4gICAgICAgIC8vIGNvbnNvbGUubG9nKFwicmVzdWx0LFwiLHJlc3VsdCk7XHJcbiAgICAgICAgaWYgKCFjaGVja1Bhc3N3b3JkIHx8IHJlc3VsdC5lbWFpbCAhPT0gY3JlZGVudGlhbHMuZW1haWwpe1xyXG4gICAgICAgICAgICAvLyBjb25zb2xlLmxvZyh0eXBlKHJlc3VsdC5lbWFpbCkpXHJcbiAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKHR5cGUoY3JlZGVudGlhbHMuZW1haWwpKVxyXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJVc2VybmFtZSBQYXNzd29yZCBkb25vdCBtYXRjaFwiKVxyXG4gICAgICAgICAgIFxyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBjb25zb2xlLmxvZyhcInJlc3VsdCxcIixyZXN1bHQpO1xyXG4gICAgICAgIHJldHVybiByZXN1bHRcclxuICAgICAgfVxyXG4gICAgfSksXHJcbiAgXSxcclxuICBjYWxsYmFja3M6e1xyXG4gICAgYXN5bmMgc2lnbkluKHR5cGUpIHtcclxuICAgICAgLy8gY29uc29sZS5sb2coXCJTaWduaW4gY2FsbGJhY2shIFwiLHR5cGUpO1xyXG4gICAgICBpZiAodHlwZS5hY2NvdW50LnByb3ZpZGVyID09PSAnZ29vZ2xlJyl7XHJcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gKGF3YWl0IGdldFVzZXJieWVtYWlsKHR5cGUucHJvZmlsZS5lbWFpbCkpLnVzZXJcclxuICAgICAgICBpZiAoIXJlc3VsdCl7XHJcbiAgICAgICAgICBjb25zdCB7dXNlciwgZXJyb3J9ID0gYXdhaXQgY3JlYXRlVXNlcih7dXNlcm5hbWU6dHlwZS5wcm9maWxlLm5hbWUsZW1haWw6dHlwZS5wcm9maWxlLmVtYWlsLHBhc3N3b3JkOlwiXCIsYWRkcmVzc2VzOmF3YWl0IEpTT04uc3RyaW5naWZ5KFtdKX0pO1xyXG4gICAgICAgICAgaWYgKGVycm9yKXtcclxuICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcImluIGVycm9yXCIpXHJcbiAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGVycm9yKTtcclxuICAgICAgICAgIH1cclxuICAgICAgICAgIGNvbnNvbGUubG9nKFwidXNlciBjcmVhdGVkOiBcIix1c2VyKVxyXG4gICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbnNvbGUubG9nKCdmYWxzZScpXHJcbiAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgIH1cclxuICAgICAgY29uc29sZS5sb2coXCJvdXRlclwiKVxyXG4gICAgICByZXR1cm4gdHJ1ZTtcclxuICAgIH0sXHJcbiAgfSxcclxuICBzZWNyZXQ6XCJHeGhpa3lYQ2UrQXpIbHdobHJ6eStNNmxFUFA1cHFadXUrU3FBVkJZOG5nPVwiXHJcbn0pIl0sIm5hbWVzIjpbIk5leHRBdXRoIiwiR29vZ2xlUHJvdmlkZXIiLCJDcmVkZW50aWFsc1Byb3ZpZGVyIiwiY29tcGFyZSIsImdldFVzZXJieWVtYWlsIiwiY3JlYXRlVXNlciIsInByb3ZpZGVycyIsImNsaWVudElkIiwicHJvY2VzcyIsImVudiIsIkdPT0dMRV9JRCIsImNsaWVudFNlY3JldCIsIkdPT0dMRV9TRUNSRVQiLCJuYW1lIiwiYXV0aG9yaXplIiwiY3JlZGVudGlhbHMiLCJyZXEiLCJyZXN1bHQiLCJlbWFpbCIsInVzZXIiLCJFcnJvciIsImNoZWNrUGFzc3dvcmQiLCJwYXNzd29yZCIsImNhbGxiYWNrcyIsInNpZ25JbiIsInR5cGUiLCJhY2NvdW50IiwicHJvdmlkZXIiLCJwcm9maWxlIiwiZXJyb3IiLCJ1c2VybmFtZSIsImFkZHJlc3NlcyIsIkpTT04iLCJzdHJpbmdpZnkiLCJjb25zb2xlIiwibG9nIiwic2VjcmV0Il0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(api)/./src/pages/api/auth/[...nextauth].js\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../webpack-api-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = (__webpack_exec__("(api)/./src/pages/api/auth/[...nextauth].js"));
module.exports = __webpack_exports__;

})();